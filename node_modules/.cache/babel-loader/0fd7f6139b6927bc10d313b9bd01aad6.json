{"ast":null,"code":"// let productState = {\n//   products: [\n//     {\n//       category: \"Flowers\",\n//       name: \"Tulip\",\n//       price: 45,\n//       image:\n//         \"https://images-na.ssl-images-amazon.com/images/I/819zhtPix4L._SY450_.jpg\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//     {\n//       category: \"Bags\",\n//       name: \"CHANEL\",\n//       price: 900,\n//       image:\n//         \"https://katiesbliss.com/wp-content/uploads/2019/03/CHANEL-Classic-Medium-Flap-Bag-Black-1.jpg\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//     {\n//       category: \"Bags\",\n//       name: \"GUCCI\",\n//       price: 890,\n//       image:\n//         \"https://i.pinimg.com/736x/c5/2f/f7/c52ff779d1d27112253dd26d4de74c45.jpg\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//     {\n//       category: \"Bags\",\n//       name: \"SHEIN\",\n//       price: 700,\n//       image:\n//         \"https://img.ltwebstatic.com/images3_pi/2021/05/20/16214837686737b3ebc80a993f3d45ef0ced5d3b7b_thumbnail_405x552.webp\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//     {\n//       category: \"Flowers\",\n//       name: \"Sun Flowers\",\n//       price: 60,\n//       image:\n//         \"https://ae01.alicdn.com/kf/HTB1NV92XijrK1RjSsplq6xHmVXaR/50cm-long-fall-silk-artificial-sunflowers-DIY-flowers-branch-for-home-wedding-autumn-decoration-fake-plastic.jpg_Q90.jpg_.webp\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//     {\n//       category: \"Flowers\",\n//       name: \"Jasmin\",\n//       price: 63,\n//       image:\n//         \"https://image.freepik.com/free-photo/jasmine-flowers-glasse-vase-stillife-with-jasmine-cup-coffee_230497-2054.jpg\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//   ],\n//   listOfProducts: [],\n// };\n// const ProductReducer = (state = productState, action) => {\n//   let { type, payload } = action;\n//   switch (type) {\n//     case \"ACTIVE\":\n//       state.listOfProducts = [];\n//       let stateProducts = state.products\n//       stateProducts.forEach((prod) => {\n//         if (prod.category === payload.categoryNormalizedName) {\n//           state.listOfProducts.push(prod);\n//         }\n//       });\n//       return { ...state };\n//     case \"addToMyCart\":\n//       let newList = state.listOfProducts.map((product) => {\n//         if (payload.name === product.name) {\n//           if (payload.quantity > 0) {\n//             product.quantity--;\n//           }\n//         }\n//         return product;\n//       });\n//       return { ...state, listOfProducts: newList };\n//     case \"RemoveItem\":\n//       let updateInventory = state.listOfProducts.map((product) => {\n//         if (payload.name === product.name) {\n//           product.quantity = product.quantity + product.count;\n//         }\n//         return product;\n//       });\n//       return { ...state, listOfProducts: updateInventory };\n//     // return {\n//     //   products: state.products,\n//     //   listOfProducts: state.listOfProducts\n//     // };\n//     default:\n//       return state;\n//   }\n// };\n// export const addToMyCart = (payload) => {\n//   return {\n//     type: \"addToMyCart\",\n//     payload: payload,\n//   };\n// };\n// export default ProductReducer;\nlet initialProductState = {\n  items: [],\n  productsList: []\n};\n\nconst ProductReducer = (state = initialProductState, action) => {\n  let {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case \"GET\":\n      return {\n        products: payload,\n        productsList: []\n      };\n\n    case \"PUT\":\n      let newList = state.productsList.map(product => {\n        if (payload._id === product._id) {\n          product.inventoryCount--;\n          product.cartCount++;\n        }\n\n        return product;\n      });\n      return { ...state,\n        productsList: newList\n      };\n\n    case \"ACTIVE\":\n      state.productsList = [];\n      state.products.forEach(product => {\n        if (product.category === payload) {\n          state.productsList.push(product);\n        }\n      });\n      return { ...state\n      };\n\n    case \"PUT_REMOVE\":\n      let updateInventory = state.productsList.map(product => {\n        if (payload._id === product._id) {\n          product.inventoryCount = product.cartCount + product.inventoryCount;\n          product.cartCount = 0;\n        }\n\n        return product;\n      });\n      return { ...state,\n        productsList: updateInventory\n      };\n\n    default:\n      return state;\n  }\n};\n\n_c = ProductReducer;\nexport default ProductReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductReducer\");","map":{"version":3,"sources":["/home/wafaa/storefront/src/store/ProductsStore.js"],"names":["initialProductState","items","productsList","ProductReducer","state","action","type","payload","products","newList","map","product","_id","inventoryCount","cartCount","forEach","category","push","updateInventory"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA,IAAIA,mBAAmB,GAAG;AACxBC,EAAAA,KAAK,EAAE,EADiB;AAExBC,EAAAA,YAAY,EAAE;AAFU,CAA1B;;AAKA,MAAMC,cAAc,GAAG,CAACC,KAAK,GAAGJ,mBAAT,EAA8BK,MAA9B,KAAyC;AAC9D,MAAI;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAAxB;;AAEA,UAAQC,IAAR;AACE,SAAK,KAAL;AACE,aAAO;AACLE,QAAAA,QAAQ,EAAED,OADL;AAELL,QAAAA,YAAY,EAAE;AAFT,OAAP;;AAKF,SAAK,KAAL;AACE,UAAIO,OAAO,GAAGL,KAAK,CAACF,YAAN,CAAmBQ,GAAnB,CAAwBC,OAAD,IAAa;AAChD,YAAIJ,OAAO,CAACK,GAAR,KAAgBD,OAAO,CAACC,GAA5B,EAAiC;AAC/BD,UAAAA,OAAO,CAACE,cAAR;AACAF,UAAAA,OAAO,CAACG,SAAR;AACD;;AACD,eAAOH,OAAP;AACD,OANa,CAAd;AAQA,aAAO,EAAE,GAAGP,KAAL;AAAYF,QAAAA,YAAY,EAAEO;AAA1B,OAAP;;AAEF,SAAK,QAAL;AACEL,MAAAA,KAAK,CAACF,YAAN,GAAqB,EAArB;AACAE,MAAAA,KAAK,CAACI,QAAN,CAAeO,OAAf,CAAwBJ,OAAD,IAAa;AAClC,YAAIA,OAAO,CAACK,QAAR,KAAqBT,OAAzB,EAAkC;AAChCH,UAAAA,KAAK,CAACF,YAAN,CAAmBe,IAAnB,CAAwBN,OAAxB;AACD;AACF,OAJD;AAKA,aAAO,EAAE,GAAGP;AAAL,OAAP;;AAEF,SAAK,YAAL;AACE,UAAIc,eAAe,GAAGd,KAAK,CAACF,YAAN,CAAmBQ,GAAnB,CAAwBC,OAAD,IAAa;AACxD,YAAIJ,OAAO,CAACK,GAAR,KAAgBD,OAAO,CAACC,GAA5B,EAAiC;AAC/BD,UAAAA,OAAO,CAACE,cAAR,GAAyBF,OAAO,CAACG,SAAR,GAAoBH,OAAO,CAACE,cAArD;AACAF,UAAAA,OAAO,CAACG,SAAR,GAAoB,CAApB;AACD;;AACD,eAAOH,OAAP;AACD,OANqB,CAAtB;AAOA,aAAO,EAAE,GAAGP,KAAL;AAAYF,QAAAA,YAAY,EAAEgB;AAA1B,OAAP;;AAEF;AACE,aAAOd,KAAP;AAtCJ;AAwCD,CA3CD;;KAAMD,c;AA6CN,eAAeA,cAAf","sourcesContent":["// let productState = {\n//   products: [\n//     {\n//       category: \"Flowers\",\n//       name: \"Tulip\",\n//       price: 45,\n//       image:\n//         \"https://images-na.ssl-images-amazon.com/images/I/819zhtPix4L._SY450_.jpg\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//     {\n//       category: \"Bags\",\n//       name: \"CHANEL\",\n//       price: 900,\n//       image:\n//         \"https://katiesbliss.com/wp-content/uploads/2019/03/CHANEL-Classic-Medium-Flap-Bag-Black-1.jpg\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//     {\n//       category: \"Bags\",\n//       name: \"GUCCI\",\n//       price: 890,\n//       image:\n//         \"https://i.pinimg.com/736x/c5/2f/f7/c52ff779d1d27112253dd26d4de74c45.jpg\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//     {\n//       category: \"Bags\",\n//       name: \"SHEIN\",\n//       price: 700,\n//       image:\n//         \"https://img.ltwebstatic.com/images3_pi/2021/05/20/16214837686737b3ebc80a993f3d45ef0ced5d3b7b_thumbnail_405x552.webp\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//     {\n//       category: \"Flowers\",\n//       name: \"Sun Flowers\",\n//       price: 60,\n//       image:\n//         \"https://ae01.alicdn.com/kf/HTB1NV92XijrK1RjSsplq6xHmVXaR/50cm-long-fall-silk-artificial-sunflowers-DIY-flowers-branch-for-home-wedding-autumn-decoration-fake-plastic.jpg_Q90.jpg_.webp\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//     {\n//       category: \"Flowers\",\n//       name: \"Jasmin\",\n//       price: 63,\n//       image:\n//         \"https://image.freepik.com/free-photo/jasmine-flowers-glasse-vase-stillife-with-jasmine-cup-coffee_230497-2054.jpg\",\n//       count: 0,\n//       quantity: 3,\n//     },\n//   ],\n\n//   listOfProducts: [],\n// };\n\n// const ProductReducer = (state = productState, action) => {\n//   let { type, payload } = action;\n//   switch (type) {\n//     case \"ACTIVE\":\n//       state.listOfProducts = [];\n//       let stateProducts = state.products\n//       stateProducts.forEach((prod) => {\n//         if (prod.category === payload.categoryNormalizedName) {\n//           state.listOfProducts.push(prod);\n//         }\n//       });\n//       return { ...state };\n\n\n//     case \"addToMyCart\":\n//       let newList = state.listOfProducts.map((product) => {\n//         if (payload.name === product.name) {\n//           if (payload.quantity > 0) {\n//             product.quantity--;\n//           }\n//         }\n//         return product;\n//       });\n\n//       return { ...state, listOfProducts: newList };\n\n\n//     case \"RemoveItem\":\n//       let updateInventory = state.listOfProducts.map((product) => {\n//         if (payload.name === product.name) {\n//           product.quantity = product.quantity + product.count;\n//         }\n//         return product;\n//       });\n\n//       return { ...state, listOfProducts: updateInventory };\n\n\n//     // return {\n//     //   products: state.products,\n//     //   listOfProducts: state.listOfProducts\n//     // };\n\n//     default:\n//       return state;\n//   }\n// };\n\n// export const addToMyCart = (payload) => {\n//   return {\n//     type: \"addToMyCart\",\n//     payload: payload,\n//   };\n// };\n\n// export default ProductReducer;\n\n\nlet initialProductState = {\n  items: [],\n  productsList: [],\n};\n\nconst ProductReducer = (state = initialProductState, action) => {\n  let { type, payload } = action;\n\n  switch (type) {\n    case \"GET\":\n      return {\n        products: payload,\n        productsList: [],\n      };\n\n    case \"PUT\":\n      let newList = state.productsList.map((product) => {\n        if (payload._id === product._id) {\n          product.inventoryCount--;\n          product.cartCount++;\n        }\n        return product;\n      });\n\n      return { ...state, productsList: newList };\n\n    case \"ACTIVE\":\n      state.productsList = [];\n      state.products.forEach((product) => {\n        if (product.category === payload) {\n          state.productsList.push(product);\n        }\n      });\n      return { ...state };\n\n    case \"PUT_REMOVE\":\n      let updateInventory = state.productsList.map((product) => {\n        if (payload._id === product._id) {\n          product.inventoryCount = product.cartCount + product.inventoryCount;\n          product.cartCount = 0;\n        }\n        return product;\n      });\n      return { ...state, productsList: updateInventory };\n\n    default:\n      return state;\n  }\n};\n\nexport default ProductReducer;\n"]},"metadata":{},"sourceType":"module"}