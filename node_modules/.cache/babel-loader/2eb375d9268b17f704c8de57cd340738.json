{"ast":null,"code":"let productState = {\n  products: [{\n    category: \"Flowers\",\n    name: \"Tulip\",\n    price: 45,\n    image: \"https://images-na.ssl-images-amazon.com/images/I/819zhtPix4L._SY450_.jpg\",\n    count: 0,\n    quantity: 3\n  }, {\n    category: \"Bags\",\n    name: \"CHANEL\",\n    price: 900,\n    image: \"https://katiesbliss.com/wp-content/uploads/2019/03/CHANEL-Classic-Medium-Flap-Bag-Black-1.jpg\",\n    count: 0,\n    quantity: 3\n  }, {\n    category: \"Bags\",\n    name: \"GUCCI\",\n    price: 890,\n    image: \"https://i.pinimg.com/736x/c5/2f/f7/c52ff779d1d27112253dd26d4de74c45.jpg\",\n    count: 0,\n    quantity: 3\n  }, {\n    category: \"Bags\",\n    name: \"SHEIN\",\n    price: 700,\n    image: \"https://img.ltwebstatic.com/images3_pi/2021/05/20/16214837686737b3ebc80a993f3d45ef0ced5d3b7b_thumbnail_405x552.webp\",\n    count: 0,\n    quantity: 3\n  }, {\n    category: \"Flowers\",\n    name: \"Sun Flowers\",\n    price: 60,\n    image: \"https://ae01.alicdn.com/kf/HTB1NV92XijrK1RjSsplq6xHmVXaR/50cm-long-fall-silk-artificial-sunflowers-DIY-flowers-branch-for-home-wedding-autumn-decoration-fake-plastic.jpg_Q90.jpg_.webp\",\n    count: 0,\n    quantity: 3\n  }, {\n    category: \"Flowers\",\n    name: \"Jasmin\",\n    price: 63,\n    image: \"https://image.freepik.com/free-photo/jasmine-flowers-glasse-vase-stillife-with-jasmine-cup-coffee_230497-2054.jpg\",\n    count: 0,\n    quantity: 3\n  }],\n  listOfProducts: []\n};\n\nconst ProductReducer = (state = productState, action) => {\n  let {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case \"ACTIVE\":\n      state.listOfProducts = [];\n      let stateProducts = state.products;\n      stateProducts.forEach(prod => {\n        if (prod.category === payload.categoryNormalizedName) {\n          state.listOfProducts.push(prod);\n        }\n      });\n      return { ...state\n      };\n\n    case \"addToMyCart\":\n      let newList = state.listOfProducts.map(product => {\n        if (payload.name === product.name) {\n          if (payload.quantity > 0) {\n            product.quantity--;\n          }\n        }\n\n        return product;\n      });\n      return { ...state,\n        listOfProducts: newList\n      };\n\n    case \"RemoveItem\":\n      let updateInventory = state.listOfProducts.map(product => {\n        if (payload.name === product.name) {\n          product.quantity = product.quantity + product.count;\n        }\n\n        return product;\n      });\n      return { ...state,\n        listOfProducts: updateInventory\n      };\n    // return {\n    //   products: state.products,\n    //   listOfProducts: state.listOfProducts\n    // };\n\n    default:\n      return state;\n  }\n};\n\n_c = ProductReducer;\nexport const addToMyCart = payload => {\n  return {\n    type: \"addToMyCart\",\n    payload: payload\n  };\n};\nexport default ProductReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductReducer\");","map":{"version":3,"sources":["/home/wafaa/storefront/src/store/ProductsStore.js"],"names":["productState","products","category","name","price","image","count","quantity","listOfProducts","ProductReducer","state","action","type","payload","stateProducts","forEach","prod","categoryNormalizedName","push","newList","map","product","updateInventory","addToMyCart"],"mappings":"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","sourcesContent":["let productState = {\n  products: [\n    {\n      category: \"Flowers\",\n      name: \"Tulip\",\n      price: 45,\n      image:\n        \"https://images-na.ssl-images-amazon.com/images/I/819zhtPix4L._SY450_.jpg\",\n      count: 0,\n      quantity: 3,\n    },\n    {\n      category: \"Bags\",\n      name: \"CHANEL\",\n      price: 900,\n      image:\n        \"https://katiesbliss.com/wp-content/uploads/2019/03/CHANEL-Classic-Medium-Flap-Bag-Black-1.jpg\",\n      count: 0,\n      quantity: 3,\n    },\n    {\n      category: \"Bags\",\n      name: \"GUCCI\",\n      price: 890,\n      image:\n        \"https://i.pinimg.com/736x/c5/2f/f7/c52ff779d1d27112253dd26d4de74c45.jpg\",\n      count: 0,\n      quantity: 3,\n    },\n    {\n      category: \"Bags\",\n      name: \"SHEIN\",\n      price: 700,\n      image:\n        \"https://img.ltwebstatic.com/images3_pi/2021/05/20/16214837686737b3ebc80a993f3d45ef0ced5d3b7b_thumbnail_405x552.webp\",\n      count: 0,\n      quantity: 3,\n    },\n    {\n      category: \"Flowers\",\n      name: \"Sun Flowers\",\n      price: 60,\n      image:\n        \"https://ae01.alicdn.com/kf/HTB1NV92XijrK1RjSsplq6xHmVXaR/50cm-long-fall-silk-artificial-sunflowers-DIY-flowers-branch-for-home-wedding-autumn-decoration-fake-plastic.jpg_Q90.jpg_.webp\",\n      count: 0,\n      quantity: 3,\n    },\n    {\n      category: \"Flowers\",\n      name: \"Jasmin\",\n      price: 63,\n      image:\n        \"https://image.freepik.com/free-photo/jasmine-flowers-glasse-vase-stillife-with-jasmine-cup-coffee_230497-2054.jpg\",\n      count: 0,\n      quantity: 3,\n    },\n  ],\n\n  listOfProducts: [],\n};\n\nconst ProductReducer = (state = productState, action) => {\n  let { type, payload } = action;\n  switch (type) {\n    case \"ACTIVE\":\n      state.listOfProducts = [];\n      let stateProducts = state.products\n      stateProducts.forEach((prod) => {\n        if (prod.category === payload.categoryNormalizedName) {\n          state.listOfProducts.push(prod);\n        }\n      });\n      return { ...state };\n\n\n    case \"addToMyCart\":\n      let newList = state.listOfProducts.map((product) => {\n        if (payload.name === product.name) {\n          if (payload.quantity > 0) {\n            product.quantity--;\n          }\n        }\n        return product;\n      });\n\n      return { ...state, listOfProducts: newList };\n\n\n    case \"RemoveItem\":\n      let updateInventory = state.listOfProducts.map((product) => {\n        if (payload.name === product.name) {\n          product.quantity = product.quantity + product.count;\n        }\n        return product;\n      });\n\n      return { ...state, listOfProducts: updateInventory };\n\n\n    // return {\n    //   products: state.products,\n    //   listOfProducts: state.listOfProducts\n    // };\n\n    default:\n      return state;\n  }\n};\n\nexport const addToMyCart = (payload) => {\n  return {\n    type: \"addToMyCart\",\n    payload: payload,\n  };\n};\n\nexport default ProductReducer;\n"]},"metadata":{},"sourceType":"module"}