{"ast":null,"code":"import superagent from \"superagent\";\nconst api = \"https://api-server-0.herokuapp.com/products\";\nexport const getRemoteData = () => dispatch => {\n  superagent.get(api).then(res => {\n    dispatch(getAction(res.body));\n  });\n};\nexport const updateRemoteData = item => (dispatch, state) => {\n  console.log(item);\n  superagent.put(`${api}/${item._id}`).send({\n    inventory: item.inventory - 1,\n    cartCount: item.cartCount + 1\n  }).then(res => {\n    dispatch(putAction(res.body));\n  });\n};\nexport const updateRemoteDataAfterDeleteFromCart = (id, inventory, cartCount) => (dispatch, state) => {\n  superagent.put(`${api}/${id}`).send({\n    inventory: cartCount + inventory,\n    cartCount: 0\n  }).then(res => {\n    dispatch(putActionToRemoveFromCart(res.body));\n  });\n};\nexport const getAction = payload => {\n  return {\n    type: \"GET\",\n    payload: payload\n  };\n};\nexport const putAction = payload => {\n  return {\n    type: \"PUT\",\n    payload: payload\n  };\n};\nexport const putActionToRemoveFromCart = payload => {\n  return {\n    type: \"PUT_REMOVE\",\n    payload: payload\n  };\n};","map":{"version":3,"sources":["/home/wafaa/storefront/src/store/action.js"],"names":["superagent","api","getRemoteData","dispatch","get","then","res","getAction","body","updateRemoteData","item","state","console","log","put","_id","send","inventory","cartCount","putAction","updateRemoteDataAfterDeleteFromCart","id","putActionToRemoveFromCart","payload","type"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AAEA,MAAMC,GAAG,GAAG,6CAAZ;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAOC,QAAD,IAAc;AAC/CH,EAAAA,UAAU,CAACI,GAAX,CAAeH,GAAf,EAAoBI,IAApB,CAA0BC,GAAD,IAAS;AAChCH,IAAAA,QAAQ,CAACI,SAAS,CAACD,GAAG,CAACE,IAAL,CAAV,CAAR;AACD,GAFD;AAGD,CAJM;AAOP,OAAO,MAAMC,gBAAgB,GAAIC,IAAD,IAAU,CAACP,QAAD,EAAWQ,KAAX,KAAqB;AAC7DC,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAV,EAAAA,UAAU,CACPc,GADH,CACQ,GAAEb,GAAI,IAAGS,IAAI,CAACK,GAAI,EAD1B,EAEGC,IAFH,CAEQ;AACJC,IAAAA,SAAS,EAAEP,IAAI,CAACO,SAAL,GAAiB,CADxB;AAEJC,IAAAA,SAAS,EAAER,IAAI,CAACQ,SAAL,GAAiB;AAFxB,GAFR,EAMGb,IANH,CAMSC,GAAD,IAAS;AACbH,IAAAA,QAAQ,CAACgB,SAAS,CAACb,GAAG,CAACE,IAAL,CAAV,CAAR;AACD,GARH;AASD,CAXM;AAaP,OAAO,MAAMY,mCAAmC,GAC9C,CAACC,EAAD,EAAKJ,SAAL,EAAgBC,SAAhB,KAA8B,CAACf,QAAD,EAAWQ,KAAX,KAAqB;AACjDX,EAAAA,UAAU,CACPc,GADH,CACQ,GAAEb,GAAI,IAAGoB,EAAG,EADpB,EAEGL,IAFH,CAEQ;AACJC,IAAAA,SAAS,EAAEC,SAAS,GAAGD,SADnB;AAEJC,IAAAA,SAAS,EAAE;AAFP,GAFR,EAMGb,IANH,CAMSC,GAAD,IAAS;AACbH,IAAAA,QAAQ,CAACmB,yBAAyB,CAAChB,GAAG,CAACE,IAAL,CAA1B,CAAR;AACD,GARH;AASD,CAXI;AAaP,OAAO,MAAMD,SAAS,GAAIgB,OAAD,IAAa;AACpC,SAAO;AACLC,IAAAA,IAAI,EAAE,KADD;AAELD,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMJ,SAAS,GAAII,OAAD,IAAa;AACpC,SAAO;AACLC,IAAAA,IAAI,EAAE,KADD;AAELD,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMD,yBAAyB,GAAIC,OAAD,IAAa;AACpD,SAAO;AACLC,IAAAA,IAAI,EAAE,YADD;AAELD,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CALM","sourcesContent":["import superagent from \"superagent\";\n\nconst api = \"https://api-server-0.herokuapp.com/products\";\n\nexport const getRemoteData = () => (dispatch) => {\n  superagent.get(api).then((res) => {\n    dispatch(getAction(res.body));\n  });\n};\n\n\nexport const updateRemoteData = (item) => (dispatch, state) => {\n  console.log(item);\n  superagent\n    .put(`${api}/${item._id}`)\n    .send({\n      inventory: item.inventory - 1,\n      cartCount: item.cartCount + 1,\n    })\n    .then((res) => {\n      dispatch(putAction(res.body));\n    });\n};\n\nexport const updateRemoteDataAfterDeleteFromCart =\n  (id, inventory, cartCount) => (dispatch, state) => {\n    superagent\n      .put(`${api}/${id}`)\n      .send({\n        inventory: cartCount + inventory,\n        cartCount: 0,\n      })\n      .then((res) => {\n        dispatch(putActionToRemoveFromCart(res.body));\n      });\n  };\n\nexport const getAction = (payload) => {\n  return {\n    type: \"GET\",\n    payload: payload,\n  };\n};\n\nexport const putAction = (payload) => {\n  return {\n    type: \"PUT\",\n    payload: payload,\n  };\n};\n\nexport const putActionToRemoveFromCart = (payload) => {\n  return {\n    type: \"PUT_REMOVE\",\n    payload: payload,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}